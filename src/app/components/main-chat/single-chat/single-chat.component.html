<section (click)="openSecondaryChat(currentChat)">
  <div class="userAvatar">
    <img
      src="./../../../../assets/img/user-icons/{{ user.avatar }}.svg"
      alt=""
    />
  </div>
  <div class="userContent" [ngClass]="{ mirror: index % 2 !== 0 }">
    <div class="name">
      {{ user.firstName }} {{ user.lastName }}
      <span>{{ convertTimestampHour(chat.publishedTimestamp) }}</span>
    </div>
    <div class="msg" (click)="openSecondaryChat(currentChat)">
      {{ chat.message }}
      <!-- Attachments -->
      <ng-container
        *ngIf="downloadFilesService.downloadedFiles | async as files"
      >
        <div class="attachments" *ngFor="let folder of files">
          <div *ngIf="chat.id == folder.id">
            <br /><i>Attachments:</i><br />
            <div class="files">
              <div *ngFor="let file of folder.files">
                <a href="{{ file }}" target="_blank">
                  @switch (getFileType(file)){ @case ("png") {
                  <img src="{{ file }}" alt="" class="basicFileLookHover" />
                  } @case ("pdf") {
                  <!-- <img src="{{ file }}" class="basicFileLook">`; -->
                  <!-- <embed src="{{ file }}" class="basicFileLookHover" type="application/pdf"/> -->
                  <!-- <embed type="application/pdf" src="{{ file }}" class="basicFileLook" alt="pdf" pluginspage="http://www.adobe.com/products/acrobat/readstep2.html" background-color="0xFF525659" top-toolbar-height="56" full-frame="" internalinstanceid="21" title="CHROME"> -->
                    <!-- <ngx-extended-pdf-viewer src="{{ file }}" class="basicFileLook"></ngx-extended-pdf-viewer> -->
                    <!-- <embed src="{{ file }}" type="application/pdf" class="basicFileLookHover"> -->
                    <!-- <ngx-extended-pdf-viewer src="{{ file }}" class="pdfPreViewer"></ngx-extended-pdf-viewer> --> <!--fÃ¼hre => npm install ngx-extended-pdf-viewer --save  <= aus ums anzuzeigen-->
                    <iframe src="{{ file }}" class="basicFileLookHover" frameborder="0"></iframe>

                  } @case ("mp3") {
                  <video class="audioLook" name="media" controls="controls">
                    <source src="{{ file }}" type="video/mp4" />
                  </video>
                  } @case ("mp4") {
                  <video
                    controls
                    src="{{ file }}"
                    class="basicFileLook"
                  ></video>
                  } @default {
                  <img src="{{ file }}" alt="" class="basicFileLookHover" />
                  } }
                </a>
              </div>
            </div>
          </div>
        </div>
      </ng-container>
    </div>
    @if (chatService.getChatAnswers(chat.id).length > 0 && showAnswer) {
    <div class="answers">
      <p>{{ displayCountChatAnswer() }} Answers</p>
      <span>Last answer: {{ displayLastChatAnswer() }}</span>
    </div>
    }
  </div>
</section>
