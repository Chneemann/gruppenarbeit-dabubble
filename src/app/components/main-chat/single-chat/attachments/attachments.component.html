<ng-container *ngIf="downloadFilesService.downloadedFiles | async as files">
  <div class="attachments" *ngFor="let folder of files">
    <div *ngIf="chatId == folder.id">
      <br />
      <div class="files">
        <div *ngFor="let file of folder.files">
          <div class="filesView">
            @if (['png', 'jpg', 'jpeg', 'gif'].includes(getFileType(file))) {
            <img
              src="{{ file }}"
              alt="image"
              [ngStyle]="{ height: openOnSecondaryChat ? '7.5vw' : '5vw' }"
              (click)="showOverlay(file)"
            />
            } @if (['pdf', 'doc', 'txt'].includes(getFileType(file))) {
            <a href="{{ file }}" target="_blank">
              <img
                class="otherFiles"
                src="./../../../../../assets/img/attachments/{{
                  getFileType(file)
                }}.png"
                alt="image"
                [ngStyle]="{ height: openOnSecondaryChat ? '5vw' : '3vw' }"
            /></a>
            } @if (['mp3', 'wav', 'wma'].includes(getFileType(file))) {
            <audio
              controls
              preload="auto"
              src="{{ file }}"
              [ngStyle]="{ width: openOnSecondaryChat ? '' : '250px' }"
            ></audio>
            }@if (getFileType(file) === 'mp4') {
            <div (click)="showOverlay(file)">
              <video
                controls
                src="{{ file }}"
                alt="video"
                [ngStyle]="{ height: openOnSecondaryChat ? '7.5vw' : '5vw' }"
              ></video>
            </div>
            }
          </div>
        </div>
      </div>
    </div>
  </div>
</ng-container>
