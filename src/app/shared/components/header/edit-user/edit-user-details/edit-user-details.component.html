<div class="grayBackground" (click)="closeEditUserWindow()"></div>
@for(i of userService.getCurentUsers(); track i){
<div class="whiteBox">
    <div class="boxHeader fontNunito">
      <h2 class="fontNunito">Edid your profil</h2>
      <div class="positionCloseIcon" (click)="closeEditUserWindow()">
        <img src="assets/img/closeIcon.svg" class="closeIcon" />
      </div>
    </div>

    <img src="{{ i.avatar }}" class="profileImg" />

    <div class="inputBox">
      <div class="positionName">
        <div class="positionNameIcon">
          <img src="assets/img/personCircle.svg" />
          <h1 class="fontNunito">Full name</h1>
        </div>
        @if (asGuestOnline) {
          <input
            class="inputDisabled"
            type="text"
            placeholder="Type your name - minimus 3 letters"
            [(ngModel)]="nameValue"
            required
            minlength="3"
            [disabled]="asGuestOnline"
            (keyup)="checkIfUserNameIsValid(nameValue)"
          />
        } @else {
          <input
            class="inputName"
            type="text"
            placeholder="Type your name - minimus 3 letters"
            [(ngModel)]="nameValue"
            required
            minlength="3"
            (keyup)="checkIfUserNameIsValid(nameValue)"
          />
        }
      </div>

      <div class="positionName">
        <div class="positionNameIcon">
          <img src="assets/img/mail-iconBlack.svg" />
          <h1 class="fontNunito">E-Mail-Address</h1>
        </div>
        @if (asGuestOnline) {
          <input
            class="inputDisabled"
            type="email"
            required
            name="emailValue"
            placeholder="Type your email"
            [(ngModel)]="emailValue"
            [disabled]="asGuestOnline"
            (keyup)="checkIfUserEmailIsValid(emailValue)"
          />
        } @else {
          <input
            class="inputName"
            type="email"
            required
            name="emailValue"
            placeholder="Type your email"
            [(ngModel)]="emailValue"
            (keyup)="checkIfUserEmailIsValid(emailValue)"
          />
        }
      </div>
    </div>

    <div class="position2Btn">
      <button class="cancelBtn" (click)="closeEditUserWindow()">Cancel</button>
      <button
        [disabled]="!channelService.saveEditBtnIsValid"
        [ngClass]="{disabledBtn: !channelService.saveEditBtnIsValid, saveBtn: channelService.saveEditBtnIsValid}"
        (click)="saveNewUserData()">
        Save
      </button>
    </div>
    @if (asGuestOnline) {
      <p>* Änderungen am Gast Profil sind nicht möglich.</p>
    }
  </div>
}
